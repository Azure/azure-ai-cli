# AI CLI

Let's do a quick tour of the various AI capabilities available in Azure via the new Azure AI CLI (`ai`). 

**INSTALLATION and SETUP**  
[CHAPTER 1: CLI Installation](#chapter-1-cli-installation)  
[CHAPTER 2: Setup w/ Azure OpenAI](#chapter-2-setup-w-azure-openai)  

**OPENAI CHAT COMPLETIONS**  
[CHAPTER 3: Chat Completion Basics](#chapter-3-openai-chat-completions-basics)  
[CHAPTER 4: Chat Completions w/ Function Calling](#chapter-4-openai-chat-completions-w-function-calling)  
[CHAPTER 5: Chat Completions w/ RAG + AI Search](#chapter-5-openai-chat-completions-w-rag--ai-search)  

**OPENAI ASSISTANTS API**  
[CHAPTER 6: Assistants API](#chapter-6-openai-assistants-api)  
[CHAPTER 7: Assistants Basics](#chapter-7-openai-assistants-basics)  
[CHAPTER 8: Assistants w/ Code Interpreter](#chapter-8-openai-assistants-w-code-interpreter)  
[CHAPTER 9: Assistants w/ Function Calling](#chapter-9-openai-assistants-w-function-calling)  
[CHAPTER 10: Assistants w/ File Search](#chapter-10-openai-assistants-w-file-search)  

**GITHUB MODEL MARKETPLACE**  
[CHAPTER 11: Model Marketplace](#chapter-11-github-model-marketplace)  
[CHAPTER 12: Chat Completion Basics](#chapter-12-chat-completion-basics)  
[CHAPTER 13: Chat Completions W/ Function Calling](#chapter-13-chat-completions-w-function-calling)  

**AZURE AI INFERENCING**  
[CHAPTER 14: AI Studio and the Model Catalog](#chapter-14-ai-studio-and-the-model-catalog)  
[CHAPTER 15: Chat Completions Basics](#chapter-15-chat-completions-basics)  
[CHAPTER 16: Chat Completions w/ Function Calling](#chapter-16-chat-completions-w-function-calling)üöß  

**LOCAL INFERENCING W/ ONNX AND PHI-3**  
[CHAPTER 17: PHI-3 Models](#chapter-17-phi-3-models)  
[CHAPTER 18: ONNX Chat Completions](#chapter-18-onnx-chat-completions)  
[CHAPTER 19: ONNX Chat Completions w/ Function Calling](#chapter-19-onnx-chat-completions-w-function-calling)  

**SPEECH INPUT AND OUTPUT**  
[CHAPTER 20: Speech Synthesis](#chapter-20-speech-synthesis)  
[CHAPTER 21: Speech Recognition](#chapter-21-speech-recognition)    
[CHAPTER 22: Speech Translation](#chapter-22-speech-translation)    
[CHAPTER 23: Speech Recognition w/ Keyword Spotting](#chapter-23-speech-recognition-w-keyword-spotting)  

**MULTI-MODAL AI**  
[CHAPTER 24: Multi-Modal AI](#chapter-24-multi-modal-ai)  
[CHAPTER 25: Chat Completions w/ Speech Input](#chapter-25-chat-completions-w-speech-input)  
[CHAPTER 26: Chat Completions w/ Speech Input and Output](#chapter-26-chat-completions-w-speech-input-and-output)  
[CHAPTER 27: Chat Completions w/ Image Input](#chapter-27-chat-completions-w-image-input)  
[CHAPTER 28: Chat Completions w/ Image Output](#chapter-28-chat-completions-w-image-output)  

**SEMANTIC KERNEL AGENTS**  
[CHAPTER 29: Semantic Kernel Basics](#chapter-29-semantic-kernel-basics)  
[CHAPTER 30: Semantic Kernel w/ Function Calling](#chapter-30-semantic-kernel-w-function-calling)  
[CHAPTER 31: Semantic Kernel w/ Basic Agents](#chapter-31-semantic-kernel-w-basic-agents)  
[CHAPTER 32: Semantic Kernel w/ Advanced Agents](#chapter-32-semantic-kernel-w-advanced-agents)  

## CHAPTER 1: CLI Installation

üîó [**CLI Installation**](#chapter-1-cli-installation)  

‚èπÔ∏è Install the pre-requisites for the Azure AI CLI (`ai`)  
‚èπÔ∏è `winget install Microsoft.DotNet.SDK.8`  

‚èπÔ∏è Install the Azure AI CLI (`ai`) on Linux, Mac, or Windows  
‚èπÔ∏è `dotnet tool install -g Microsoft.Azure.AI.CLI --prerelease`  

‚èπÔ∏è OR: Use the Azure AI CLI (`ai`) in a GitHub Codespace  
‚èπÔ∏è OR: Use the Azure AI CLI (`ai`) in a Docker container  

## CHAPTER 2: Setup w/ Azure OpenAI

üîó [**Setup w/ Azure OpenAI**](#chapter-2-setup-w-azure-openai)  

‚èπÔ∏è `ai init openai`  
‚èπÔ∏è Select your Azure subscription  
‚èπÔ∏è Select or create your Azure OpenAI resource  
‚èπÔ∏è Select or create an OpenAI chat model deployment (e.g. gpt-4o)  
‚èπÔ∏è Select or create an OpenAi embeddings model deployment  

## CHAPTER 3: OpenAI Chat Completions Basics

üîó [**OpenAI Chat Completion Basics**](#chapter-3-openai-chat-completions-basics)  

‚èπÔ∏è System prompts, user input, interactive chats w/ history  
‚èπÔ∏è `ai chat --user "What is the capital of France?"`  
‚èπÔ∏è `ai chat --interactive`  
‚èπÔ∏è `ai chat --interactive --system @prompt.txt`  
‚èπÔ∏è `ai chat --interactive --system @prompt.txt --user "Tell me a joke"`  
‚èπÔ∏è `ai chat --interactive --output-answer answer.txt`  
‚èπÔ∏è `ai chat --interactive --output-chat-history history.jsonl`  
‚èπÔ∏è `ai chat --interactive --input-chat-history history.jsonl`  

‚èπÔ∏è Generate console apps for chat completions  
‚èπÔ∏è `ai dev new list`  
‚èπÔ∏è `ai dev new list chat`  
‚èπÔ∏è `ai dev new openai-chat --csharp` or `--python` or `--javascript` ...  
‚èπÔ∏è `ai dev new openai-chat-streaming --csharp` or `--python` or `--javascript` ...  

‚èπÔ∏è Go over what was generated in the console app  
‚èπÔ∏è ... getting connection info/secrets from environment variables  
‚èπÔ∏è ... using a helper class to encapsulate the OpenAI API calls  
‚èπÔ∏è ... getting input from the user  
‚èπÔ∏è ... sending the input to the helper class  
‚èπÔ∏è ... getting the response from the helper class  
‚èπÔ∏è ... deeper dive into the helper class  

‚èπÔ∏è Install the dependencies  
‚èπÔ∏è `dotnet restore` or `pip install -r requirements.txt` or `npm install` ...  

‚èπÔ∏è Run the console app  
‚èπÔ∏è `ai dev shell`  
‚èπÔ∏è `dotnet run` or `python main.py` or `node main.js` ...

## CHAPTER 4: OpenAI Chat Completions w/ Function Calling

üîó [**OpenAI Chat Completions w/ Function Calling**](#chapter-4-openai-chat-completions-w-function-calling)  

‚èπÔ∏è Extending the LLM's world knowledge with functions  
‚èπÔ∏è `ai chat --user "What time is it?"` => doesn't know the time  
‚èπÔ∏è `ai chat --user "What time is it?" --built-in-functions` => works!  
‚èπÔ∏è `ai chat --user "What is in the README.md file?" --built-in-functions`  

‚èπÔ∏è Allowing the LLM to interact with your code  
‚èπÔ∏è `ai chat --user "Save the pledge of allegiance to 'pledge.txt'"` => doesn't work  
‚èπÔ∏è `ai chat --user "Save the pledge of allegiance to 'pledge.txt'" --built-in-functions` => works!  

‚èπÔ∏è Generating code for function calling  
‚èπÔ∏è `ai dev new list function`  
‚èπÔ∏è `ai dev new openai-chat-streaming-with-functions --csharp` or `--python` or `--javascript` ...  

‚èπÔ∏è Go over what was generated in the console app  
‚èπÔ∏è ... builds on previous chapter's console app  
‚èπÔ∏è ... see how functions are defined, given to "function factory"  
‚èπÔ∏è ... in helper class, see how functions are given to the LLM  
‚èπÔ∏è ... see how the LLM streams back the function call requests  
‚èπÔ∏è ... see how the helper class processes the function call responses  

‚èπÔ∏è Install the dependencies  
‚èπÔ∏è `dotnet restore` or `pip install -r requirements.txt` or `npm install` ...  

‚èπÔ∏è Run the console app  
‚èπÔ∏è `ai dev shell`  
‚èπÔ∏è `dotnet run` or `python main.py` or `node main.js` ...

## CHAPTER 5: OpenAI Chat Completions w/ RAG + AI Search

üîó [**OpenAI Chat Completions w/ RAG + AI Search**](#chapter-5-openai-chat-completions-w-rag--ai-search)  

‚èπÔ∏è `ai init search`  
‚èπÔ∏è Select your Azure subscription  
‚èπÔ∏è Select or create your Azure AI Search resource  

‚èπÔ∏è Create or update your Azure AI Search index  
‚èπÔ∏è `ai search index create --name MyFiles --files *.md --blob-container https://...`  
‚èπÔ∏è `ai search index update --name MyFiles --files *.md --blob-container https://...`  

‚èπÔ∏è Use the RAG model to search your AI Search index  
‚èπÔ∏è `ai chat --user "What is the capital of France?" --index MyFiles`  

‚èπÔ∏è Generate code for RAG + AI Search  
‚èπÔ∏è `ai dev new openai-chat-streaming-with-data --csharp` or `--python` or `--javascript` ...  

‚èπÔ∏è Go over what was generated in the console app  
‚èπÔ∏è ... builds on Chapter 4's console app  
‚èπÔ∏è ... see how the helper class gives the LLM access to the AI Search index  
‚èπÔ∏è ... see how the LLM sends back citations to the helper class  
‚èπÔ∏è ... see how the helper class processes the citations  

‚èπÔ∏è Install the dependencies  
‚èπÔ∏è `dotnet restore` or `pip install -r requirements.txt` or `npm install` ...  

‚èπÔ∏è Run the console app  
‚èπÔ∏è `ai dev shell`  
‚èπÔ∏è `dotnet run` or `python main.py` or `node main.js` ...

## CHAPTER 6: OpenAI Assistants API

üîó [OpenAI Assistants API](#chapter-6-openai-assistants-api)  

‚èπÔ∏è Differences between chat completions and assistants  
‚èπÔ∏è ... stateless vs stateful  
‚èπÔ∏è ... customer controlled chat history vs threads  
‚èπÔ∏è ... automatic context window management  
‚èπÔ∏è ... advanced features: code interpreter, function calling, file search  

‚èπÔ∏è Listing, creating, updating, and deleting assistants  
‚èπÔ∏è `ai chat assistant`  
‚èπÔ∏è `ai chat assistant list`  
‚èπÔ∏è `ai chat assistant create --name MyAssistant`  
‚èπÔ∏è `ai chat assistant update --instructions @instructions.txt`  
‚èπÔ∏è `ai chat assistant delete --id ID`  

## CHAPTER 7: OpenAI Assistants Basics

üîó [OpenAI Assistants Basics](#chapter-7-openai-assistants-basics)  

‚èπÔ∏è Create a simple assistant  
‚èπÔ∏è `ai chat assistant create --name MyAssistant`  
‚èπÔ∏è `ai config @assistant.id`

‚èπÔ∏è Threads ...  
‚èπÔ∏è `ai chat --interactive`  
‚èπÔ∏è `ai chat --interactive --thread-id ID` (from previous chat)  

‚èπÔ∏è `ai chat --question "..." --output-thread-id myNewThread.txt`  
‚èπÔ∏è `ai chat --question "..." --thread-id @myNewThread.txt`  
‚èπÔ∏è `ai chat --interactive --thread-id @myNewThread.txt --output-chat-history history.jsonl`  

‚èπÔ∏è Delete the assistant  
‚èπÔ∏è `ai chat assistant delete`  
‚èπÔ∏è `ai config --clear assistant.id`  

‚èπÔ∏è Generate code for using assistants  
‚èπÔ∏è `ai dev new list asst`  
‚èπÔ∏è `ai dev new openai-asst-streaming --csharp` or `--python` or `--javascript` ...  

‚èπÔ∏è Go over what was generated in the console app  
‚èπÔ∏è ... similar to console apps generated in earlier chapters
‚èπÔ∏è ... see how the LLM sends back citations to the helper class  
‚èπÔ∏è ... see how the helper class processes the citations  

‚èπÔ∏è Install the dependencies  
‚èπÔ∏è `dotnet restore` or `pip install -r requirements.txt` or `npm install` ...  

‚èπÔ∏è Run the console app  
‚èπÔ∏è `ai dev shell`  
‚èπÔ∏è `dotnet run` or `python main.py` or `node main.js` ...


## CHAPTER 8: OpenAI Assistants w/ Code Interpreter

üîó [OpenAI Assistants w/ Code Interpreter](#chapter-8-openai-assistants-w-code-interpreter)  

‚èπÔ∏è Create or update an assistant with a code interpreter  
‚èπÔ∏è `ai chat assistant create --name MyCodeAssistant --code-interpreter`  
‚èπÔ∏è `ai chat assistant update --code-interpreter`  

‚èπÔ∏è Use the code interpreter in the assistant  
‚èπÔ∏è `ai chat --interactive --question "how many e's are there in the pledge of allegiance?"`  
‚èπÔ∏è ... `how'd you do that?`  

## CHAPTER 9: OpenAI Assistants w/ Function Calling

üîó [OpenAI Assistants w/ Function Calling](#chapter-9-openai-assistants-w-function-calling)  

...

## CHAPTER 10: OpenAI Assistants w/ File Search

üîó [OpenAI Assistants w/ File Search](#chapter-10-openai-assistants-w-file-search)  

...

## CHAPTER 11: GitHub Model Marketplace

üîó [GitHub Model Marketplace](#chapter-11-github-model-marketplace)  

...

## CHAPTER 12: Chat Completion Basics

üîó [Chat Completion Basics](#chapter-12-chat-completion-basics)  

...

## CHAPTER 13: Chat Completions W/ Function Calling

üîó [Chat Completions W/ Function Calling](#chapter-13-chat-completions-w-function-calling)  

...

## CHAPTER 14: AI Studio and the Model Catalog

üîó [AI Studio and the Model Catalog](#chapter-14-ai-studio-and-the-model-catalog)  

...

## CHAPTER 15: Chat Completions Basics

üîó [Chat Completions Basics](#chapter-15-chat-completions-basics)  

...

## CHAPTER 16: Chat Completions w/ Function Calling

üîó [Chat Completions w/ Function Calling](#chapter-16-chat-completions-w-function-calling)  

...

## CHAPTER 17: PHI-3 Models

üîó [PHI-3 Models](#chapter-17-phi-3-models)  

...

## CHAPTER 18: ONNX Chat Completions

üîó [ONNX Chat Completions](#chapter-18-onnx-chat-completions)

...

## CHAPTER 19: ONNX Chat Completions w/ Function Calling

üîó [ONNX Chat Completions w/ Function Calling](#chapter-19-onnx-chat-completions-w-function-calling)  

...

## CHAPTER 20: Speech Synthesis

üîó [Speech Synthesis](#chapter-20-speech-synthesis)  

...

## CHAPTER 21: Speech Recognition

üîó [Speech Recognition](#chapter-21-speech-recognition)  

...

## CHAPTER 22: Speech Translation

üîó [Speech Translation](#chapter-22-speech-translation)  

...

## CHAPTER 23: Speech Recognition w/ Keyword Spotting

üîó [Speech Recognition w/ Keyword Spotting](#chapter-23-speech-recognition-w-keyword-spotting)  

...

## CHAPTER 24: Multi-Modal AI

üîó [Multi-Modal AI](#chapter-24-multi-modal-ai)  

...

## CHAPTER 25: Chat Completions w/ Speech Input

üîó [Chat Completions w/ Speech Input](#chapter-25-chat-completions-w-speech-input)  

...

## CHAPTER 26: Chat Completions w/ Speech Input and Output

üîó [Chat Completions w/ Speech Input and Output](#chapter-26-chat-completions-w-speech-input-and-output)  

...

## CHAPTER 27: Chat Completions w/ Image Input

üîó [Chat Completions w/ Image Input](#chapter-27-chat-completions-w-image-input)  

...

## CHAPTER 28: Chat Completions w/ Image Output

üîó [Chat Completions w/ Image Output](#chapter-28-chat-completions-w-image-output)  

...

## CHAPTER 29: Semantic Kernel Basics

üîó [Semantic Kernel Basics](#chapter-29-semantic-kernel-basics)  

...

## CHAPTER 30: Semantic Kernel w/ Function Calling

üîó [Semantic Kernel w/ Function Calling](#chapter-30-semantic-kernel-w-function-calling)  

...

## CHAPTER 31: Semantic Kernel w/ Basic Agents

üîó [Semantic Kernel w/ Basic Agents](#chapter-31-semantic-kernel-w-basic-agents)  

...

## CHAPTER 32: Semantic Kernel w/ Advanced Agents

üîó [Semantic Kernel w/ Advanced Agents](#chapter-32-semantic-kernel-w-advanced-agents)  

...

